<div class="salvage-union">
    <section class="item {{statusClass weapon.system.status}}" data-item-id='{{weapon.id}}'>
        <h2 class="title {{titleClass}}">
            {{#if (gt weapon.system.ap 0)}}
                <span class="item-cost" data-tooltip="{{localize "salvage-union.sheets.items.ap"}}">
                    {{localize "salvage-union.sheets.actor.pilot.ap-cost" cost=weapon.system.ap}}
                </span>
            {{/if}}

            {{#if (gt weapon.system.ep 0)}}
                <span class="item-cost" data-tooltip="{{localize "salvage-union.sheets.items.ep"}}">
                    {{localize "salvage-union.sheets.actor.mech.ep-cost" cost=weapon.system.ep}}
                </span>
            {{/if}}

            <span class="condensed">{{weapon.name}}</span>

            {{#if (and weapon.system.status (gt weapon.system.status activeStatus))}}
                <small class="inverted all-caps status">{{localize (statusLabel weapon.system.status)}}</small>
            {{/if}}
        </h2>
        <p>
            {{{traits}}}
        </p>

        {{{weapon.system.description}}}

        <p class="center">
            <span class="inverted all-caps">
                <strong>{{localize "salvage-union.chat.roll-result" roll=roll.total }}</strong>
            </span>
        </p>

        <p>
            <strong>{{{range result.range}}}:</strong>
            {{{result.text}}}
        </p>
        {{#if (gt roll._total 5)}}
            <p>
                <strong>{{localize "salvage-union-combat-automation.target"}}:</strong> {{{target}}}
                <strong>{{localize "salvage-union.sheets.items.damage.label"}}:</strong> {{{weapon.system.damage}}}
            </p>
            {{#unless noTarget}}
                <button type='button'
                    class="su-combatautomation-damagebutton">{{localize "salvage-union-combat-automation.buttons.deal-damage"}}</button>
                <p class="su-combatautomation-customButtonRow">
                    {{#each customButtons}}
                        <button type='button' class="su-combatautomation-customdamagebutton"
                            data-value={{this}}>{{this}}</button>
                    {{/each}}
                </p>
            {{/unless}}

        {{/if}}
    </section>
</div>